# 微前端（Micro Front-end）

[从零实现微前端框架](http://www.zhufengpeixun.com/jg-vue/vue-analyse/mic-front2.html#%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6)

[微前端连载 6/7：微前端框架 - qiankun 大法好](https://juejin.cn/post/6846687602439897101)

* 解决巨石工程的维护困难和协作开发困难
* 老项目中使用新的前端技术栈
* 解决一个项目模块，组件多 -> 如何项目拆分
* 异构项目（比如vue开发的，react开发的）
* 遗留系统迁移
* 聚合前端应用

## WHY NOT IFRAME

(Why Not Iframe)[https://www.yuque.com/kuitos/gky7yw/gesexv]

1. url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。
2. UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中.
3. 全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。
4. 慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。

## Single-spa方案：

  Single-spa-vue
  single-spa-react
  各应用独立部署，路由劫持，应用加载

## qiankun方案：

  应用的加载与切换 - Single-spa
  Js沙箱 - 快照沙箱(一次只能加载一个应用)、ES6 Proxy(可以加载多个应用)
  css样式隔离 - 工程化手段、Shadow DOM

## qiankun 共享组件

## qiankun 事件总线
